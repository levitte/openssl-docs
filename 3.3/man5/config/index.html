<!doctypehtml><html class=no-js lang=en><meta charset=utf-8><meta content=width=device-width,initial-scale=1 name=viewport><link href=https://docs.openssl.org/3.3/man5/config/ rel=canonical><link href=../ rel=prev><link href=../fips_config/ rel=next><link href=../../images/favicon.ico rel=icon><meta content="mkdocs-1.6.0, mkdocs-material-9.5.27"name=generator><title>config - OpenSSL Documentation</title><link href=../../assets/stylesheets/main.6543a935.min.css rel=stylesheet><link href=../../assets/stylesheets/palette.06af60db.min.css rel=stylesheet><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href=https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback rel=stylesheet><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link href=../../stylesheets/extra.css rel=stylesheet><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head><body data-md-color-accent=light-blue data-md-color-primary=blue-grey data-md-color-scheme=default dir=ltr><input autocomplete=off class=md-toggle data-md-toggle=drawer id=__drawer type=checkbox><input autocomplete=off class=md-toggle data-md-toggle=search id=__search type=checkbox><label class=md-overlay for=__drawer></label><div data-md-component=skip><a class=md-skip href=#config> Skip to content </a></div><div data-md-component=announce></div><div data-md-color-scheme=default data-md-component=outdated hidden></div><header class="md-header md-header--shadow md-header--lifted"data-md-component=header><nav class="md-header__inner md-grid"aria-label=Header><a aria-label="OpenSSL Documentation"class="md-header__button md-logo"title="OpenSSL Documentation"data-md-component=logo href=../..> <svg viewbox="0 0 24 24"xmlns=http://www.w3.org/2000/svg><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a><label class="md-header__button md-icon"for=__drawer><svg viewbox="0 0 24 24"xmlns=http://www.w3.org/2000/svg><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg></label><div class=md-header__title data-md-component=header-title><div class=md-header__ellipsis><div class=md-header__topic><span class=md-ellipsis> OpenSSL Documentation </span></div><div class=md-header__topic data-md-component=header-topic><span class=md-ellipsis> config </span></div></div></div><form class=md-header__option data-md-component=palette><input aria-label="Switch to dark mode"class=md-option data-md-color-accent=light-blue data-md-color-media data-md-color-primary=blue-grey data-md-color-scheme=default id=__palette_0 name=__palette type=radio><label class="md-header__button md-icon"title="Switch to dark mode"for=__palette_1 hidden><svg viewbox="0 0 24 24"xmlns=http://www.w3.org/2000/svg><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg></label><input aria-label="Switch to light mode"class=md-option data-md-color-accent=light-blue data-md-color-media data-md-color-primary=black data-md-color-scheme=slate id=__palette_1 name=__palette type=radio><label class="md-header__button md-icon"title="Switch to light mode"for=__palette_0 hidden><svg viewbox="0 0 24 24"xmlns=http://www.w3.org/2000/svg><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg></label></form><script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script><label class="md-header__button md-icon"for=__search><svg viewbox="0 0 24 24"xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg></label><div class=md-search data-md-component=search role=dialog><label class=md-search__overlay for=__search></label><div class=md-search__inner role=search><form class=md-search__form name=search><input aria-label=Search autocapitalize=off autocomplete=off autocorrect=off class=md-search__input data-md-component=search-query name=query placeholder=Search required spellcheck=false><label class="md-search__icon md-icon"for=__search><svg viewbox="0 0 24 24"xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg viewbox="0 0 24 24"xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg></label><nav aria-label=Search class=md-search__options><button class="md-search__icon md-icon"aria-label=Clear tabindex=-1 title=Clear type=reset><svg viewbox="0 0 24 24"xmlns=http://www.w3.org/2000/svg><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg></button></nav><div class=md-search__suggest data-md-component=search-suggest></div></form><div class=md-search__output><div class=md-search__scrollwrap data-md-scrollfix tabindex=0><div class=md-search-result data-md-component=search-result><div class=md-search-result__meta>Initializing search</div><ol class=md-search-result__list role=presentation></ol></div></div></div></div></div><div class=md-header__source><a title="Go to repository"class=md-source data-md-component=source href=https://github.com/openssl/openssl> <div class="md-source__icon md-icon"><svg viewbox="0 0 448 512"xmlns=http://www.w3.org/2000/svg><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg></div> <div class=md-source__repository>GitHub</div> </a></div></nav><nav aria-label=Tabs class=md-tabs data-md-component=tabs><div class=md-grid><ul class=md-tabs__list><li class=md-tabs__item><a class=md-tabs__link href=../..> Home </a></li><li class=md-tabs__item><a class=md-tabs__link href=../../fips/> FIPS-140 </a></li><li class=md-tabs__item><a class=md-tabs__link href=../../man1/> Commands </a></li><li class=md-tabs__item><a class=md-tabs__link href=../../man3/> Libraries </a></li><li class="md-tabs__item md-tabs__item--active"><a class=md-tabs__link href=../> File Formats </a></li><li class=md-tabs__item><a class=md-tabs__link href=../../man7/> Overviews </a></li></ul></div></nav></header><div class=md-container data-md-component=container><main class=md-main data-md-component=main><div class="md-main__inner md-grid"><div class="md-sidebar md-sidebar--primary"data-md-component=sidebar data-md-type=navigation><div class=md-sidebar__scrollwrap><div class=md-sidebar__inner><nav class="md-nav md-nav--primary md-nav--lifted"aria-label=Navigation data-md-level=0><label class=md-nav__title for=__drawer><a aria-label="OpenSSL Documentation"class="md-nav__button md-logo"title="OpenSSL Documentation"data-md-component=logo href=../..> <svg viewbox="0 0 24 24"xmlns=http://www.w3.org/2000/svg><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> OpenSSL Documentation</label><div class=md-nav__source><a title="Go to repository"class=md-source data-md-component=source href=https://github.com/openssl/openssl> <div class="md-source__icon md-icon"><svg viewbox="0 0 448 512"xmlns=http://www.w3.org/2000/svg><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg></div> <div class=md-source__repository>GitHub</div> </a></div><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item> <a class=md-nav__link href=../.. title=Home>    <span class=md-ellipsis-custom> Home </span>  </a></li><li class=md-nav__item> <a class=md-nav__link href=../../fips/ title=FIPS-140>    <span class=md-ellipsis-custom> FIPS-140 </span>  </a></li><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class=md-nav__link href=../../man1/>    <span class=md-ellipsis-custom> Commands </span>   <span class="md-nav__icon md-icon"></span> </a></li><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class=md-nav__link href=../../man3/>    <span class=md-ellipsis-custom> Libraries </span>   <span class="md-nav__icon md-icon"></span> </a></li><li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">  <input class="md-nav__toggle md-toggle"checked id=__nav_5 type=checkbox>  <div class="md-nav__link md-nav__container"><a class=md-nav__link href=../>    <span class=md-ellipsis-custom> File Formats </span>  </a><label class=md-nav__link for=__nav_5 id=__nav_5_label><span class="md-nav__icon md-icon"></span></label></div>  <nav aria-expanded=true aria-labelledby=__nav_5_label class=md-nav data-md-level=1><label class=md-nav__title for=__nav_5><span class="md-nav__icon md-icon"></span> File Formats</label><ul class=md-nav__list data-md-scrollfix><li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle"id=__toc type=checkbox>   <label class="md-nav__link md-nav__link--active"for=__toc>   <span class=md-ellipsis-custom> config </span>  <span class="md-nav__icon md-icon"></span></label> <a class="md-nav__link md-nav__link--active"href=./>    <span class=md-ellipsis-custom> config </span>  </a>  <nav aria-label="Table of contents"class="md-nav md-nav--secondary"><label class=md-nav__title for=__toc><span class="md-nav__icon md-icon"></span> Table of contents</label><ul class=md-nav__list data-md-component=toc data-md-scrollfix><li class=md-nav__item><a class=md-nav__link href=#name> <span class=md-ellipsis> NAME </span> </a></li><li class=md-nav__item><a class=md-nav__link href=#description> <span class=md-ellipsis> DESCRIPTION </span> </a></li><li class=md-nav__item><a class=md-nav__link href=#syntax> <span class=md-ellipsis> SYNTAX </span> </a> <nav aria-label=SYNTAX class=md-nav><ul class=md-nav__list><li class=md-nav__item><a class=md-nav__link href=#directives> <span class=md-ellipsis> Directives </span> </a></li><li class=md-nav__item><a class=md-nav__link href=#settings> <span class=md-ellipsis> Settings </span> </a></li></ul></nav></li><li class=md-nav__item><a class=md-nav__link href=#openssl-library-configuration> <span class=md-ellipsis> OPENSSL LIBRARY CONFIGURATION </span> </a> <nav aria-label="OPENSSL LIBRARY CONFIGURATION"class=md-nav><ul class=md-nav__list><li class=md-nav__item><a class=md-nav__link href=#asn1-object-identifier-configuration> <span class=md-ellipsis> ASN.1 Object Identifier Configuration </span> </a></li><li class=md-nav__item><a class=md-nav__link href=#provider-configuration> <span class=md-ellipsis> Provider Configuration </span> </a> <nav aria-label="Provider Configuration"class=md-nav><ul class=md-nav__list><li class=md-nav__item><a class=md-nav__link href=#default-provider-and-its-activation> <span class=md-ellipsis> Default provider and its activation </span> </a></li></ul></nav></li><li class=md-nav__item><a class=md-nav__link href=#evp-configuration> <span class=md-ellipsis> EVP Configuration </span> </a></li><li class=md-nav__item><a class=md-nav__link href=#ssl-configuration> <span class=md-ellipsis> SSL Configuration </span> </a></li><li class=md-nav__item><a class=md-nav__link href=#engine-configuration> <span class=md-ellipsis> Engine Configuration </span> </a></li><li class=md-nav__item><a class=md-nav__link href=#random-configuration> <span class=md-ellipsis> Random Configuration </span> </a></li></ul></nav></li><li class=md-nav__item><a class=md-nav__link href=#examples> <span class=md-ellipsis> EXAMPLES </span> </a></li><li class=md-nav__item><a class=md-nav__link href=#environment> <span class=md-ellipsis> ENVIRONMENT </span> </a></li><li class=md-nav__item><a class=md-nav__link href=#bugs> <span class=md-ellipsis> BUGS </span> </a></li><li class=md-nav__item><a class=md-nav__link href=#history> <span class=md-ellipsis> HISTORY </span> </a></li><li class=md-nav__item><a class=md-nav__link href=#see-also> <span class=md-ellipsis> SEE ALSO </span> </a></li><li class=md-nav__item><a class=md-nav__link href=#copyright> <span class=md-ellipsis> COPYRIGHT </span> </a></li></ul></nav></li><li class=md-nav__item> <a class=md-nav__link href=../fips_config/ title=fips_config>    <span class=md-ellipsis-custom> fips_config </span>  </a></li><li class=md-nav__item> <a class=md-nav__link href=../x509v3_config/ title=x509v3_config>    <span class=md-ellipsis-custom> x509v3_config </span>  </a></li></ul></nav> </li><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class=md-nav__link href=../../man7/>    <span class=md-ellipsis-custom> Overviews </span>   <span class="md-nav__icon md-icon"></span> </a></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary"data-md-component=sidebar data-md-type=toc><div class=md-sidebar__scrollwrap><div class=md-sidebar__inner><nav aria-label="Table of contents"class="md-nav md-nav--secondary"><label class=md-nav__title for=__toc><span class="md-nav__icon md-icon"></span> Table of contents</label><ul class=md-nav__list data-md-component=toc data-md-scrollfix><li class=md-nav__item><a class=md-nav__link href=#name> <span class=md-ellipsis> NAME </span> </a></li><li class=md-nav__item><a class=md-nav__link href=#description> <span class=md-ellipsis> DESCRIPTION </span> </a></li><li class=md-nav__item><a class=md-nav__link href=#syntax> <span class=md-ellipsis> SYNTAX </span> </a> <nav aria-label=SYNTAX class=md-nav><ul class=md-nav__list><li class=md-nav__item><a class=md-nav__link href=#directives> <span class=md-ellipsis> Directives </span> </a></li><li class=md-nav__item><a class=md-nav__link href=#settings> <span class=md-ellipsis> Settings </span> </a></li></ul></nav></li><li class=md-nav__item><a class=md-nav__link href=#openssl-library-configuration> <span class=md-ellipsis> OPENSSL LIBRARY CONFIGURATION </span> </a> <nav aria-label="OPENSSL LIBRARY CONFIGURATION"class=md-nav><ul class=md-nav__list><li class=md-nav__item><a class=md-nav__link href=#asn1-object-identifier-configuration> <span class=md-ellipsis> ASN.1 Object Identifier Configuration </span> </a></li><li class=md-nav__item><a class=md-nav__link href=#provider-configuration> <span class=md-ellipsis> Provider Configuration </span> </a> <nav aria-label="Provider Configuration"class=md-nav><ul class=md-nav__list><li class=md-nav__item><a class=md-nav__link href=#default-provider-and-its-activation> <span class=md-ellipsis> Default provider and its activation </span> </a></li></ul></nav></li><li class=md-nav__item><a class=md-nav__link href=#evp-configuration> <span class=md-ellipsis> EVP Configuration </span> </a></li><li class=md-nav__item><a class=md-nav__link href=#ssl-configuration> <span class=md-ellipsis> SSL Configuration </span> </a></li><li class=md-nav__item><a class=md-nav__link href=#engine-configuration> <span class=md-ellipsis> Engine Configuration </span> </a></li><li class=md-nav__item><a class=md-nav__link href=#random-configuration> <span class=md-ellipsis> Random Configuration </span> </a></li></ul></nav></li><li class=md-nav__item><a class=md-nav__link href=#examples> <span class=md-ellipsis> EXAMPLES </span> </a></li><li class=md-nav__item><a class=md-nav__link href=#environment> <span class=md-ellipsis> ENVIRONMENT </span> </a></li><li class=md-nav__item><a class=md-nav__link href=#bugs> <span class=md-ellipsis> BUGS </span> </a></li><li class=md-nav__item><a class=md-nav__link href=#history> <span class=md-ellipsis> HISTORY </span> </a></li><li class=md-nav__item><a class=md-nav__link href=#see-also> <span class=md-ellipsis> SEE ALSO </span> </a></li><li class=md-nav__item><a class=md-nav__link href=#copyright> <span class=md-ellipsis> COPYRIGHT </span> </a></li></ul></nav></div></div></div><div class=md-content data-md-component=content><article class="md-content__inner md-typeset"><h1 id=config>config<a title="Permanent link"class=headerlink href=#config>¶</a></h1><h2 id=name>NAME<a title="Permanent link"class=headerlink href=#name>¶</a></h2><p>config - OpenSSL CONF library configuration files</p><h2 id=description>DESCRIPTION<a title="Permanent link"class=headerlink href=#description>¶</a></h2><p>This page documents the syntax of OpenSSL configuration files, as parsed by <a href=../../man3/NCONF_load>NCONF_load(3)</a> and related functions. This format is used by many of the OpenSSL commands, and to initialize the libraries when used by any application.</p><p>The first part describes the general syntax of the configuration files, and subsequent sections describe the semantics of individual modules. Other modules are described in <a href=../../man5/fips_config>fips_config(5)</a> and <a href=../../man5/x509v3_config>x509v3_config(5)</a>. The syntax for defining ASN.1 values is described in <a href=../../man3/ASN1_generate_nconf>ASN1_generate_nconf(3)</a>.</p><h2 id=syntax>SYNTAX<a title="Permanent link"class=headerlink href=#syntax>¶</a></h2><p>A configuration file is a series of lines. Blank lines, and whitespace between the elements of a line, have no significance. A comment starts with a <strong>#</strong> character; the rest of the line is ignored. If the <strong>#</strong> is the first non-space character in a line, the entire line is ignored.</p><h3 id=directives>Directives<a title="Permanent link"class=headerlink href=#directives>¶</a></h3><p>Two directives can be used to control the parsing of configuration files: <strong>.include</strong> and <strong>.pragma</strong>.</p><p>For compatibility with older versions of OpenSSL, an equal sign after the directive will be ignored. Older versions will treat it as an assignment, so care should be taken if the difference in semantics is important.</p><p>A file can include other files using the include syntax:</p><div class=highlight><pre><span></span><code>.include [=] pathname
</code></pre></div><p>If <strong>pathname</strong> is a simple filename, that file is included directly at that point. Included files can have <strong>.include</strong> statements that specify other files. If <strong>pathname</strong> is a directory, all files within that directory that have a <code>.cnf</code> or <code>.conf</code> extension will be included. (This is only available on systems with POSIX IO support.) Any sub-directories found inside the <strong>pathname</strong> are <strong>ignored</strong>. Similarly, if a file is opened while scanning a directory, and that file has an <strong>.include</strong> directive that specifies a directory, that is also ignored.</p><p>As a general rule, the <strong>pathname</strong> should be an absolute path; this can be enforced with the <strong>abspath</strong> and <strong>includedir</strong> pragmas, described below. The environment variable <strong>OPENSSL_CONF_INCLUDE</strong>, if it exists, is prepended to all relative pathnames. If the pathname is still relative, it is interpreted based on the current working directory.</p><p>To require all file inclusions to name absolute paths, use the following directive:</p><div class=highlight><pre><span></span><code>.pragma [=] abspath:value
</code></pre></div><p>The default behavior, where the <strong>value</strong> is <strong>false</strong> or <strong>off</strong>, is to allow relative paths. To require all <strong>.include</strong> pathnames to be absolute paths, use a <strong>value</strong> of <strong>true</strong> or <strong>on</strong>.</p><p>In these files, the dollar sign, <strong>$</strong>, is used to reference a variable, as described below. On some platforms, however, it is common to treat <strong>$</strong> as a regular character in symbol names. Supporting this behavior can be done with the following directive:</p><div class=highlight><pre><span></span><code>.pragma [=] dollarid:value
</code></pre></div><p>The default behavior, where the <strong>value</strong> is <strong>false</strong> or <strong>off</strong>, is to treat the dollarsign as indicating a variable name; <code>foo$bar</code> is interpreted as <code>foo</code> followed by the expansion of the variable <code>bar</code>. If <strong>value</strong> is <strong>true</strong> or <strong>on</strong>, then <code>foo$bar</code> is a single seven-character name and variable expansions must be specified using braces or parentheses.</p><div class=highlight><pre><span></span><code>.pragma [=] includedir:value
</code></pre></div><p>If a relative pathname is specified in the <strong>.include</strong> directive, and the <strong>OPENSSL_CONF_INCLUDE</strong> environment variable doesn't exist, then the value of the <strong>includedir</strong> pragma, if it exists, is prepended to the pathname.</p><h3 id=settings>Settings<a title="Permanent link"class=headerlink href=#settings>¶</a></h3><p>A configuration file is divided into a number of <em>sections</em>. A section begins with the section name in square brackets, and ends when a new section starts, or at the end of the file. The section name can consist of alphanumeric characters and underscores. Whitespace between the name and the brackets is removed.</p><p>The first section of a configuration file is special and is referred to as the <strong>default</strong> section. This section is usually unnamed and spans from the start of file until the first named section. When a name is being looked up, it is first looked up in the current or named section, and then the default section if necessary.</p><p>The environment is mapped onto a section called <strong>ENV</strong>.</p><p>Within a section are a series of name/value assignments, described in more detail below. As a reminder, the square brackets shown in this example are required, not optional:</p><div class=highlight><pre><span></span><code>[ section ]
name1 = This is value1
name2 = Another value
...
[ newsection ]
name1 = New value1
name3 = Value 3
</code></pre></div><p>The <strong>name</strong> can contain any alphanumeric characters as well as a few punctuation symbols such as <strong>.</strong> <strong>,</strong> <strong>;</strong> and <strong>_</strong>. Whitespace after the name and before the equal sign is ignored.</p><p>If a name is repeated in the same section, then all but the last value are ignored. In certain circumstances, such as with Certificate DNs, the same field may occur multiple times. In order to support this, commands like <a href=../../man1/openssl-req>openssl-req(1)</a> ignore any leading text that is preceded with a period. For example:</p><div class=highlight><pre><span></span><code>1.OU = First OU
2.OU = Second OU
</code></pre></div><p>The <strong>value</strong> consists of the string following the <strong>=</strong> character until end of line with any leading and trailing whitespace removed.</p><p>The value string undergoes variable expansion. The text <code>$var</code> or <code>${var}</code> inserts the value of the named variable from the current section. To use a value from another section use <code>$section::name</code> or <code>${section::name}</code>. By using <code>$ENV::name</code>, the value of the specified environment variable will be substituted.</p><p>Variables must be defined before their value is referenced, otherwise an error is flagged and the file will not load. This can be worked around by specifying a default value in the <strong>default</strong> section before the variable is used.</p><p>Any name/value settings in an <strong>ENV</strong> section are available to the configuration file, but are not propagated to the environment.</p><p>It is an error if the value ends up longer than 64k.</p><p>It is possible to escape certain characters by using a single <strong>'</strong> or double <strong>"</strong> quote around the value, or using a backslash <strong>\</strong> before the character, By making the last character of a line a <strong>\</strong> a <strong>value</strong> string can be spread across multiple lines. In addition the sequences <strong>\n</strong>, <strong>\r</strong>, <strong>\b</strong> and <strong>\t</strong> are recognized.</p><p>The expansion and escape rules as described above that apply to <strong>value</strong> also apply to the pathname of the <strong>.include</strong> directive.</p><h2 id=openssl-library-configuration>OPENSSL LIBRARY CONFIGURATION<a title="Permanent link"class=headerlink href=#openssl-library-configuration>¶</a></h2><p>The sections below use the informal term <em>module</em> to refer to a part of the OpenSSL functionality. This is not the same as the formal term <em>FIPS module</em>, for example.</p><p>The OpenSSL configuration looks up the value of <strong>openssl_conf</strong> in the default section and takes that as the name of a section that specifies how to configure any modules in the library. It is not an error to leave any module in its default configuration. An application can specify a different name by calling CONF_modules_load_file(), for example, directly.</p><p>OpenSSL also looks up the value of <strong>config_diagnostics</strong>. If this exists and has a nonzero numeric value, any error suppressing flags passed to CONF_modules_load() will be ignored. This is useful for diagnosing misconfigurations but its use in production requires additional consideration. With this option enabled, a configuration error will completely prevent access to a service. Without this option and in the presence of a configuration error, access will be allowed but the desired configuration will <strong>not</strong> be used.</p><div class=highlight><pre><span></span><code># These must be in the default section
config_diagnostics = 1
openssl_conf = openssl_init

[openssl_init]
oid_section = oids
providers = providers
alg_section = evp_properties
ssl_conf = ssl_configuration
engines = engines
random = random

[oids]
... new oids here ...

[providers]
... provider stuff here ...

[evp_properties]
... EVP properties here ...

[ssl_configuration]
... SSL/TLS configuration properties here ...

[engines]
... engine properties here ...

[random]
... random properties here ...
</code></pre></div><p>The semantics of each module are described below. The phrase "in the initialization section" refers to the section identified by the <strong>openssl_conf</strong> or other name (given as <strong>openssl_init</strong> in the example above). The examples below assume the configuration above is used to specify the individual sections.</p><h3 id=asn1-object-identifier-configuration>ASN.1 Object Identifier Configuration<a title="Permanent link"class=headerlink href=#asn1-object-identifier-configuration>¶</a></h3><p>The name <strong>oid_section</strong> in the initialization section names the section containing name/value pairs of OID's. The name is the short name; the value is an optional long name followed by a comma, and the numeric value. While some OpenSSL commands have their own section for specifying OID's, this section makes them available to all commands and applications.</p><div class=highlight><pre><span></span><code>[oids]
shortName = a very long OID name, 1.2.3.4
newoid1 = 1.2.3.4.1
some_other_oid = 1.2.3.5
</code></pre></div><p>If a full configuration with the above fragment is in the file <code>example.cnf</code>, then the following command line:</p><div class=highlight><pre><span></span><code>OPENSSL_CONF=example.cnf openssl asn1parse -genstr OID:1.2.3.4.1
</code></pre></div><p>will output:</p><div class=highlight><pre><span></span><code>0:d=0  hl=2 l=   4 prim: OBJECT            :newoid1
</code></pre></div><p>showing that the OID "newoid1" has been added as "1.2.3.4.1".</p><h3 id=provider-configuration>Provider Configuration<a title="Permanent link"class=headerlink href=#provider-configuration>¶</a></h3><p>The name <strong>providers</strong> in the initialization section names the section containing cryptographic provider configuration. The name/value assignments in this section each name a provider, and point to the configuration section for that provider. The provider-specific section is used to specify how to load the module, activate it, and set other parameters.</p><p>Within a provider section, the following names have meaning:</p><ul><li><strong>identity</strong></li></ul><p>This is used to specify an alternate name, overriding the default name specified in the list of providers. For example:</p><div class=highlight><pre><span></span><code>    [providers]
    foo = foo_provider

    [foo_provider]
    identity = my_fips_module
</code></pre></div><ul><li><strong>module</strong></li></ul><p>Specifies the pathname of the module (typically a shared library) to load. - <strong>activate</strong></p><p>If present and set to one of the values yes, on, true or 1, then the associated provider will be activated. Conversely, setting this value to no, off, false, or 0 will prevent the provider from being activated. Settings can be given in lower or uppercase. Setting activate to any other setting, or omitting a setting value will result in an error.</p><p>= item <strong>soft_load</strong></p><p>If enabled, informs the library to clear the error stack on failure to activate requested provider. A value of 1, yes, true or on (in lower or uppercase) will activate this setting, while a value of 0, no, false, of off (again in lower or uppercase) will disable this setting. Any other value will produce an error. Note this setting defaults to off if not provided</p><p>All parameters in the section as well as sub-sections are made available to the provider.</p><h4 id=default-provider-and-its-activation>Default provider and its activation<a title="Permanent link"class=headerlink href=#default-provider-and-its-activation>¶</a></h4><p>If no providers are activated explicitly, the default one is activated implicitly. See <a href=../../man7/OSSL_PROVIDER-default>OSSL_PROVIDER-default(7)</a> for more details.</p><p>If you add a section explicitly activating any other provider(s), you most probably need to explicitly activate the default provider, otherwise it becomes unavailable in openssl. It may make the system remotely unavailable.</p><h3 id=evp-configuration>EVP Configuration<a title="Permanent link"class=headerlink href=#evp-configuration>¶</a></h3><p>The name <strong>alg_section</strong> in the initialization section names the section containing algorithmic properties when using the <strong>EVP</strong> API.</p><p>Within the algorithm properties section, the following names have meaning:</p><ul><li><strong>default_properties</strong></li></ul><p>The value may be anything that is acceptable as a property query string for EVP_set_default_properties(). - <strong>fips_mode</strong> (deprecated)</p><p>The value is a boolean that can be <strong>yes</strong> or <strong>no</strong>. If the value is <strong>yes</strong>, this is exactly equivalent to:</p><div class=highlight><pre><span></span><code>    default_properties = fips=yes
</code></pre></div><p>If the value is <strong>no</strong>, nothing happens. Using this name is deprecated, and if used, it must be the only name in the section.</p><h3 id=ssl-configuration>SSL Configuration<a title="Permanent link"class=headerlink href=#ssl-configuration>¶</a></h3><p>The name <strong>ssl_conf</strong> in the initialization section names the section containing the list of SSL/TLS configurations. As with the providers, each name in this section identifies a section with the configuration for that name. For example:</p><div class=highlight><pre><span></span><code>[ssl_configuration]
server = server_tls_config
client = client_tls_config
system_default = tls_system_default

[server_tls_config]
... configuration for SSL/TLS servers ...

[client_tls_config]
... configuration for SSL/TLS clients ...
</code></pre></div><p>The configuration name <strong>system_default</strong> has a special meaning. If it exists, it is applied whenever an <strong>SSL_CTX</strong> object is created. For example, to impose system-wide minimum TLS and DTLS protocol versions:</p><div class=highlight><pre><span></span><code>[tls_system_default]
MinProtocol = TLSv1.2
MinProtocol = DTLSv1.2
</code></pre></div><p>The minimum TLS protocol is applied to <strong>SSL_CTX</strong> objects that are TLS-based, and the minimum DTLS protocol to those are DTLS-based. The same applies also to maximum versions set with <strong>MaxProtocol</strong>.</p><p>Each configuration section consists of name/value pairs that are parsed by <strong>SSL_CONF_cmd(3)</strong>, which will be called by SSL_CTX_config() or SSL_config(), appropriately. Note that any characters before an initial dot in the configuration section are ignored, so that the same command can be used multiple times. This probably is most useful for loading different key types, as shown here:</p><div class=highlight><pre><span></span><code>[server_tls_config]
RSA.Certificate = server-rsa.pem
ECDSA.Certificate = server-ecdsa.pem
</code></pre></div><h3 id=engine-configuration>Engine Configuration<a title="Permanent link"class=headerlink href=#engine-configuration>¶</a></h3><p>The name <strong>engines</strong> in the initialization section names the section containing the list of ENGINE configurations. As with the providers, each name in this section identifies an engine with the configuration for that engine. The engine-specific section is used to specify how to load the engine, activate it, and set other parameters.</p><p>Within an engine section, the following names have meaning:</p><ul><li><strong>engine_id</strong></li></ul><p>This is used to specify an alternate name, overriding the default name specified in the list of engines. If present, it must be first. For example:</p><div class=highlight><pre><span></span><code>    [engines]
    foo = foo_engine

    [foo_engine]
    engine_id = myfoo
</code></pre></div><ul><li><strong>dynamic_path</strong></li></ul><p>This loads and adds an ENGINE from the given path. It is equivalent to sending the ctrls <strong>SO_PATH</strong> with the path argument followed by <strong>LIST_ADD</strong> with value <strong>2</strong> and <strong>LOAD</strong> to the dynamic ENGINE. If this is not the required behaviour then alternative ctrls can be sent directly to the dynamic ENGINE using ctrl commands. - <strong>init</strong></p><p>This specifies whether to initialize the ENGINE. If the value is <strong>0</strong> the ENGINE will not be initialized, if the value is <strong>1</strong> an attempt is made to initialize the ENGINE immediately. If the <strong>init</strong> command is not present then an attempt will be made to initialize the ENGINE after all commands in its section have been processed. - <strong>default_algorithms</strong></p><p>This sets the default algorithms an ENGINE will supply using the function ENGINE_set_default_string().</p><p>All other names are taken to be the name of a ctrl command that is sent to the ENGINE, and the value is the argument passed with the command. The special value <strong>EMPTY</strong> means no value is sent with the command. For example:</p><div class=highlight><pre><span></span><code>[engines]
foo = foo_engine

[foo_engine]
dynamic_path = /some/path/fooengine.so
some_ctrl = some_value
default_algorithms = ALL
other_ctrl = EMPTY
</code></pre></div><h3 id=random-configuration>Random Configuration<a title="Permanent link"class=headerlink href=#random-configuration>¶</a></h3><p>The name <strong>random</strong> in the initialization section names the section containing the random number generator settings.</p><p>Within the random section, the following names have meaning:</p><ul><li><strong>random</strong></li></ul><p>This is used to specify the random bit generator. For example:</p><div class=highlight><pre><span></span><code>    [random]
    random = CTR-DRBG
</code></pre></div><p>The available random bit generators are:</p><ul><li><strong>CTR-DRBG</strong></li><li><strong>HASH-DRBG</strong></li><li><strong>HMAC-DRBG</strong></li><li><strong>cipher</strong></li></ul><p>This specifies what cipher a <strong>CTR-DRBG</strong> random bit generator will use. Other random bit generators ignore this name. The default value is <strong>AES-256-CTR</strong>. - <strong>digest</strong></p><p>This specifies what digest the <strong>HASH-DRBG</strong> or <strong>HMAC-DRBG</strong> random bit generators will use. Other random bit generators ignore this name. - <strong>properties</strong></p><p>This sets the property query used when fetching the random bit generator and any underlying algorithms. - <strong>seed</strong></p><p>This sets the randomness source that should be used. By default <strong>SEED-SRC</strong> will be used outside of the FIPS provider. The FIPS provider uses call backs to access the same randomness sources from outside the validated boundary. - <strong>seed_properties</strong></p><p>This sets the property query used when fetching the randomness source.</p><h2 id=examples>EXAMPLES<a title="Permanent link"class=headerlink href=#examples>¶</a></h2><p>This example shows how to use quoting and escaping.</p><div class=highlight><pre><span></span><code># This is the default section.
HOME = /temp
configdir = $ENV::HOME/config

[ section_one ]
# Quotes permit leading and trailing whitespace
any = " any variable name "
other = A string that can \
cover several lines \
by including \\ characters
message = Hello World\n

[ section_two ]
greeting = $section_one::message
</code></pre></div><p>This example shows how to expand environment variables safely. In this example, the variable <strong>tempfile</strong> is intended to refer to a temporary file, and the environment variable <strong>TEMP</strong> or <strong>TMP</strong>, if present, specify the directory where the file should be put. Since the default section is checked if a variable does not exist, it is possible to set <strong>TMP</strong> to default to <code>/tmp</code>, and <strong>TEMP</strong> to default to <strong>TMP</strong>.</p><div class=highlight><pre><span></span><code># These two lines must be in the default section.
TMP = /tmp
TEMP = $ENV::TMP

# This can be used anywhere
tmpfile = ${ENV::TEMP}/tmp.filename
</code></pre></div><p>This example shows how to enforce FIPS mode for the application <code>sample</code>.</p><div class=highlight><pre><span></span><code>sample = fips_config

[fips_config]
alg_section = evp_properties

[evp_properties]
default_properties = "fips=yes"
</code></pre></div><h2 id=environment>ENVIRONMENT<a title="Permanent link"class=headerlink href=#environment>¶</a></h2><ul><li><strong>OPENSSL_CONF</strong></li></ul><p>The path to the config file, or the empty string for none. Ignored in set-user-ID and set-group-ID programs. - <strong>OPENSSL_ENGINES</strong></p><p>The path to the engines directory. Ignored in set-user-ID and set-group-ID programs. - <strong>OPENSSL_MODULES</strong></p><p>The path to the directory with OpenSSL modules, such as providers. Ignored in set-user-ID and set-group-ID programs. - <strong>OPENSSL_CONF_INCLUDE</strong></p><p>The optional path to prepend to all <strong>.include</strong> paths.</p><h2 id=bugs>BUGS<a title="Permanent link"class=headerlink href=#bugs>¶</a></h2><p>There is no way to include characters using the octal <strong>\nnn</strong> form. Strings are all null terminated so nulls cannot form part of the value.</p><p>The escaping isn't quite right: if you want to use sequences like <strong>\n</strong> you can't use any quote escaping on the same line.</p><p>The limit that only one directory can be opened and read at a time can be considered a bug and should be fixed.</p><h2 id=history>HISTORY<a title="Permanent link"class=headerlink href=#history>¶</a></h2><p>An undocumented API, NCONF_WIN32(), used a slightly different set of parsing rules there were intended to be tailored to the Microsoft Windows platform. Specifically, the backslash character was not an escape character and could be used in pathnames, only the double-quote character was recognized, and comments began with a semi-colon. This function was deprecated in OpenSSL 3.0; applications with configuration files using that syntax will have to be modified.</p><h2 id=see-also>SEE ALSO<a title="Permanent link"class=headerlink href=#see-also>¶</a></h2><p><a href=../../man1/openssl-x509>openssl-x509(1)</a>, <a href=../../man1/openssl-req>openssl-req(1)</a>, <a href=../../man1/openssl-ca>openssl-ca(1)</a>, <a href=../../man1/openssl-fipsinstall>openssl-fipsinstall(1)</a>, <a href=../../man3/ASN1_generate_nconf>ASN1_generate_nconf(3)</a>, <a href=../../man3/EVP_set_default_properties>EVP_set_default_properties(3)</a>, <a href=../../man3/CONF_modules_load>CONF_modules_load(3)</a>, <a href=../../man3/CONF_modules_load_file>CONF_modules_load_file(3)</a>, <a href=../../man5/fips_config>fips_config(5)</a>, and <a href=../../man5/x509v3_config>x509v3_config(5)</a>.</p><h2 id=copyright>COPYRIGHT<a title="Permanent link"class=headerlink href=#copyright>¶</a></h2><p>Copyright 2000-2023 The OpenSSL Project Authors. All Rights Reserved.</p><p>Licensed under the Apache License 2.0 (the "License"). You may not use this file except in compliance with the License. You can obtain a copy in the file LICENSE in the source distribution or at <a href=https://www.openssl.org/source/license.html>https://www.openssl.org/source/license.html</a>.</p></article></div><script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script></div></main><footer class=md-footer><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class=md-copyright>Made with <a href=https://squidfunk.github.io/mkdocs-material/ rel=noopener target=_blank> Material for MkDocs </a></div></div></div></footer></div><div class=md-dialog data-md-component=dialog><div class="md-dialog__inner md-typeset"></div></div><script id=__config type=application/json>{"base": "../..", "features": ["navigation.indexes", "navigation.instant", "navigation.path", "navigation.prune", "navigation.tabs", "navigation.tabs.sticky", "navigation.tracking", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "master", "provider": "mike"}}</script><script src=../../assets/javascripts/bundle.ad660dcc.min.js></script></body></html>